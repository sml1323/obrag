<div align="center">

# ğŸ™ Obsidian RAG

### ì œ2ì˜ ë‡Œë¥¼ ì§„ì •í•œ ì§€ì‹ íŒŒíŠ¸ë„ˆë¡œ

Obsidian ë…¸íŠ¸ë¥¼ AIê°€ í•™ìŠµí•˜ì—¬ ì§ˆë¬¸ì— ë‹µí•˜ê³ ,
PARA ë°©ë²•ë¡  ê¸°ë°˜ í”„ë¡œì íŠ¸ ê´€ë¦¬ì™€ ì—ë¹™í•˜ìš°ìŠ¤ ë³µìŠµ ì—”ì§„ì„ ì œê³µí•˜ëŠ” **í†µí•© ì§€ì‹ ê´€ë¦¬ ë„êµ¬**

<br/>

![Python](https://img.shields.io/badge/Python-3.12+-3776AB?style=for-the-badge&logo=python&logoColor=white)
![FastAPI](https://img.shields.io/badge/FastAPI-0.128+-009688?style=for-the-badge&logo=fastapi&logoColor=white)
![Next.js](https://img.shields.io/badge/Next.js-16-000000?style=for-the-badge&logo=next.js&logoColor=white)
![React](https://img.shields.io/badge/React-19-61DAFB?style=for-the-badge&logo=react&logoColor=black)
![ChromaDB](https://img.shields.io/badge/ChromaDB-Vector_DB-FF6F00?style=for-the-badge)
![SQLModel](https://img.shields.io/badge/SQLModel-ORM-4B8BBE?style=for-the-badge)

</div>

<br/>

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ì†Œê°œ

**Obsidian RAG**ëŠ” Obsidian Vaultì˜ ë§ˆí¬ë‹¤ìš´ ë…¸íŠ¸ë¥¼ ë²¡í„°í™”í•˜ì—¬ ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰(Semantic Search)ê³¼ AI ì±„íŒ…ì„ ì œê³µí•˜ëŠ” í’€ìŠ¤íƒ RAG ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

ë‹¨ìˆœí•œ í‚¤ì›Œë“œ ê²€ìƒ‰ì´ ì•„ë‹Œ, **ë¬¸ì„œì˜ ë§¥ë½ê³¼ ì˜ë¯¸ë¥¼ ì´í•´**í•˜ì—¬ ì§ˆë¬¸ì— ë‹µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

| | ê¸°ëŠ¥ | ì„¤ëª… |
|---|---|---|
| ğŸ’¬ | **ì§€ëŠ¥í˜• RAG ì±„íŒ…** | Obsidian ë…¸íŠ¸ ê¸°ë°˜ ì˜ë¯¸ ê²€ìƒ‰ + LLM ì‘ë‹µ ìƒì„± |
| ğŸ“Š | **PARA í”„ë¡œì íŠ¸ ëŒ€ì‹œë³´ë“œ** | í”„ë¡œì íŠ¸ ì§„ì²™ë„ ê´€ë¦¬ ë° ìœ ê¸°(Stale) í”„ë¡œì íŠ¸ íƒì§€ |
| ğŸ§  | **ì—ë¹™í•˜ìš°ìŠ¤ ë³µìŠµ ì—”ì§„** | ë§ê°ê³¡ì„  ê¸°ë°˜ ìµœì  ë³µìŠµ ì£¼ê¸° ì•Œë¦¼ *(ê°œë°œ ì˜ˆì •)* |
| ğŸ”„ | **ì¦ë¶„ ë™ê¸°í™”** | ë³€ê²½ëœ íŒŒì¼ë§Œ ê°ì§€í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ Vector DB ì—…ë°ì´íŠ¸ |

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### RAG íŒŒì´í”„ë¼ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Obsidian   â”‚     â”‚  Markdown    â”‚     â”‚   Semantic   â”‚     â”‚  ChromaDB   â”‚
â”‚  Vault (.md)â”‚â”€â”€â”€â”€â–¶â”‚  Preprocessorâ”‚â”€â”€â”€â”€â–¶â”‚   Chunking   â”‚â”€â”€â”€â”€â–¶â”‚  (Vector DB)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   LLM       â”‚     â”‚   Prompt     â”‚     â”‚  Retriever   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   Response  â”‚â—€â”€â”€â”€â”€â”‚   Builder    â”‚â—€â”€â”€â”€â”€â”‚  (Top-k)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹œìŠ¤í…œ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (Next.js 16)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ RAG Chat â”‚ â”‚  PARA    â”‚ â”‚Embedding â”‚ â”‚   Settings   â”‚  â”‚
â”‚  â”‚          â”‚ â”‚Dashboard â”‚ â”‚  Status  â”‚ â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                         REST API                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Backend (FastAPI)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    API Layer                          â”‚  â”‚
â”‚  â”‚  /chat  /sync  /topics  /sessions  /projects  ...    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Core Layer                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚RAGChain â”‚ â”‚ LLM       â”‚ â”‚Embedderâ”‚ â”‚Sync      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚ â”‚ Strategy  â”‚ â”‚Strategyâ”‚ â”‚Engine    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Data Layer                          â”‚  â”‚
â”‚  â”‚         ChromaDB (Vectors)  +  SQLite (Metadata)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

### 1. Markdown Preprocessor â€” í—¤ë” ê¸°ë°˜ Semantic Chunking

ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œë¥¼ RAGì— ìµœì í™”ëœ ì²­í¬ë¡œ ë¶„í• í•©ë‹ˆë‹¤.

![Markdown Preprocessing Pipeline](docs/images/image.png)

- **YAML Frontmatter ì¶”ì¶œ**: íƒœê·¸, ìƒì„±ì¼, ë©”íƒ€ë°ì´í„° ìë™ íŒŒì‹±
- **ì½”ë“œ ë¸”ë¡ ë³´í˜¸**: ì²­í‚¹ ì‹œ ì½”ë“œ ë¸”ë¡ì´ ë¶„í• ë˜ì§€ ì•Šë„ë¡ í”Œë ˆì´ìŠ¤í™€ë” ì¹˜í™˜
- **ê³„ì¸µì  í—¤ë” ì¶”ì **: Breadcrumb ê²½ë¡œë¡œ ë¬¸ì„œ ë‚´ ìœ„ì¹˜ ì»¨í…ìŠ¤íŠ¸ ë³´ì¡´
- **ì ì‘í˜• ì²­í¬ í¬ê¸°**: `min_size` / `max_size` ê¸°ë°˜ ìë™ ë³‘í•©Â·ë¶„í• 

> ğŸ“„ [ìƒì„¸ ë¬¸ì„œ](docs/features/markdown_preprocessor.md)

### 2. Folder Scanner â€” ì¬ê·€ì  Vault íƒìƒ‰

![Folder Scanner](docs/images/FolderScanner.png)

- `.obsidian`, `.git`, `node_modules` ë“± ì‹œìŠ¤í…œ í´ë” ìë™ ì œì™¸
- íŒŒì¼ë³„ í´ë” ê²½ë¡œ, ìƒëŒ€ ê²½ë¡œ ë©”íƒ€ë°ì´í„° ìë™ ìƒì„±
- `scan_and_process()` í•œ ë²ˆì˜ í˜¸ì¶œë¡œ ìŠ¤ìº” + ì²­í‚¹ ì™„ë£Œ

> ğŸ“„ [ìƒì„¸ ë¬¸ì„œ](docs/features/folder_scanner.md)

### 3. ChromaDB Vector Store â€” ë²¡í„° ì €ì¥ ë° ìœ ì‚¬ë„ ê²€ìƒ‰

![ChromaDB Store](docs/images/chromadb.png)

- Deterministic ID ê¸°ë°˜ upsertë¡œ **ì¦ë¶„ ë™ê¸°í™”** ì§€ì›
- ë©”íƒ€ë°ì´í„° í•„í„°ë§ (`where`) + ë¬¸ì„œ ë‚´ìš© í•„í„°ë§ (`where_document`)
- EmbeddingStrategy ì–´ëŒ‘í„° íŒ¨í„´ìœ¼ë¡œ ì„ë² ë” êµì²´ ìš©ì´

> ğŸ“„ [ìƒì„¸ ë¬¸ì„œ](docs/features/chroma_store.md)

### 4. LLM Strategy â€” ë©€í‹° ëª¨ë¸ ì§€ì›

![LLM Strategy Protocol](docs/images/LLMStrategy.png)

Protocol íŒ¨í„´ ê¸°ë°˜ìœ¼ë¡œ **LLM êµì²´ê°€ ììœ ë¡œìš´** ì•„í‚¤í…ì²˜:

| Provider | êµ¬í˜„ì²´ | íŠ¹ì§• |
|----------|--------|------|
| OpenAI | `OpenAILLM` | GPT-4o, GPT-4o-mini ë“± |
| Google | `GeminiLLM` | Gemini Pro, Flash ë“± |
| Ollama | `OllamaLLM` | ë¡œì»¬ LLM (Llama, Mistral ë“±) |
| Test | `FakeLLM` | API í˜¸ì¶œ ì—†ëŠ” í…ŒìŠ¤íŠ¸ìš© |

```python
class LLMStrategy(Protocol):
    def generate(self, messages: List[Message], *, temperature: float = 0.7) -> LLMResponse: ...
    def stream_generate(self, messages: List[Message], ...) -> Iterator[str]: ...
```

### 5. Embedding Strategy â€” ë‹¤ì–‘í•œ ì„ë² ë”© ëª¨ë¸

| Provider | êµ¬í˜„ì²´ | íŠ¹ì§• |
|----------|--------|------|
| OpenAI | `OpenAIEmbedder` | text-embedding-3-small |
| Sentence Transformers | `SentenceTransformerEmbedder` | ë¡œì»¬ ì‹¤í–‰ |
| Multilingual E5 | `MultilingualE5Embedder` | ë‹¤êµ­ì–´ ì§€ì› |
| Ollama | `OllamaEmbedder` | ë¡œì»¬ LLM ì„ë² ë”© |

### 6. Hybrid Search & Reranking

- **Hybrid Search**: ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰ + BM25 í‚¤ì›Œë“œ ê²€ìƒ‰ ê²°í•©
- **Reranker**: ê²€ìƒ‰ ê²°ê³¼ ì¬ì •ë ¬ë¡œ ì •ë°€ë„ í–¥ìƒ
- **Agentic RAG**: Query Rewriting, Self-Correcting Chain, Hierarchical Chunking

### 7. ëŒ€í™” ê´€ë¦¬ (Session & Topic)

- **Topic(í´ë”)**: ëŒ€í™”ë¥¼ ì£¼ì œë³„ë¡œ ë¶„ë¥˜
- **Session(ëŒ€í™”ë°©)**: ê°œë³„ ì±„íŒ… ì„¸ì…˜ ê´€ë¦¬
- **ìë™ ì €ì¥**: ëŒ€í™” ë‚´ì—­ SQLite ìë™ ì €ì¥
- **ëŒ€í™” ì´ë™**: ì„¸ì…˜ì„ ë‹¤ë¥¸ í† í”½ìœ¼ë¡œ ì´ë™ ê°€ëŠ¥

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ

**Neo-Brutalism** ë””ìì¸ ì»¨ì…‰ì˜ ëª¨ë˜ UI + ë§ˆìŠ¤ì½”íŠ¸ ìºë¦­í„° ì‹œìŠ¤í…œ

### í˜ì´ì§€ êµ¬ì„±

| í˜ì´ì§€ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| Chat | `/chat` | RAG ê¸°ë°˜ AI ì±„íŒ… (ìŠ¤íŠ¸ë¦¬ë°, ì†ŒìŠ¤ í‘œì‹œ) |
| PARA Dashboard | `/para` | í”„ë¡œì íŠ¸ ì§„ì²™ë„ & Stale íƒì§€ ëŒ€ì‹œë³´ë“œ |
| Embedding | `/embedding` | ì„ë² ë”© ìƒíƒœ ì‹œê°í™” (Plotly.js) |
| Settings | `/settings` | LLM ëª¨ë¸, API í‚¤, Vault ê²½ë¡œ ì„¤ì • |

### ê¸°ìˆ  ìŠ¤íƒ

- **Framework**: Next.js 16 (App Router) + React 19
- **UI**: Tailwind CSS 4 + shadcn/ui (Radix UI)
- **Streaming**: AI SDK + SSE (Server-Sent Events)
- **Charts**: Recharts + Plotly.js
- **Animation**: Framer Motion

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

### Backend

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  |
|----------|------|
| Language | Python 3.12+ |
| Framework | FastAPI (ë¹„ë™ê¸°, ìë™ API ë¬¸ì„œí™”) |
| Vector DB | ChromaDB (ë¡œì»¬ SQLite ê¸°ë°˜) |
| Metadata DB | SQLite + SQLModel (ORM) |
| Embedding | OpenAI / Sentence Transformers / E5 / Ollama |
| LLM | OpenAI / Gemini / Ollama (Protocol íŒ¨í„´) |
| Testing | Pytest (Phaseë³„ êµ¬ì¡°í™” í…ŒìŠ¤íŠ¸) |

### Frontend

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  |
|----------|------|
| Framework | Next.js 16 + React 19 |
| Styling | Tailwind CSS 4 + shadcn/ui |
| State | React Hooks + SSE Streaming |
| Visualization | Recharts + Plotly.js |
| Validation | Zod + React Hook Form |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
obrag/
â”œâ”€â”€ src/                          # Backend (Python)
â”‚   â”œâ”€â”€ api/                      # FastAPI ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ main.py               # App Factory, Lifespan
â”‚   â”‚   â”œâ”€â”€ deps.py               # ì˜ì¡´ì„± ì£¼ì… (AppState)
â”‚   â”‚   â””â”€â”€ routers/              # ì—”ë“œí¬ì¸íŠ¸ ëª¨ë“ˆ
â”‚   â”‚       â”œâ”€â”€ chat.py           # /chat, /chat/stream
â”‚   â”‚       â”œâ”€â”€ sync.py           # /sync/trigger
â”‚   â”‚       â”œâ”€â”€ topic.py          # /topics CRUD
â”‚   â”‚       â”œâ”€â”€ session.py        # /sessions CRUD
â”‚   â”‚       â”œâ”€â”€ project.py        # /projects CRUD
â”‚   â”‚       â”œâ”€â”€ embedding.py      # ì„ë² ë”© ê´€ë¦¬
â”‚   â”‚       â”œâ”€â”€ settings.py       # ì„¤ì • API
â”‚   â”‚       â””â”€â”€ health.py         # /health
â”‚   â”œâ”€â”€ core/                     # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ preprocessing/        # Markdown â†’ Chunks
â”‚   â”‚   â”œâ”€â”€ llm/                  # LLM Strategy (OpenAI, Gemini, Ollama)
â”‚   â”‚   â”œâ”€â”€ embedding/            # Embedding Strategy (ë‹¤ì¤‘ ëª¨ë¸)
â”‚   â”‚   â”œâ”€â”€ rag/                  # RAGChain, Retriever, PromptBuilder
â”‚   â”‚   â”‚   â””â”€â”€ agentic/          # Query Rewriting, Self-Correcting
â”‚   â”‚   â”œâ”€â”€ sync/                 # FolderScanner, IncrementalSyncer
â”‚   â”‚   â”œâ”€â”€ domain/               # SQLModel ì—”í‹°í‹° (Topic, Session, Message)
â”‚   â”‚   â””â”€â”€ project/              # PARA í”„ë¡œì íŠ¸ Scanner
â”‚   â”œâ”€â”€ db/                       # ë°ì´í„°ë² ì´ìŠ¤
â”‚   â”‚   â”œâ”€â”€ chroma_store.py       # ChromaDB ë˜í¼
â”‚   â”‚   â””â”€â”€ engine.py             # SQLite ì—”ì§„
â”‚   â””â”€â”€ tasktests/                # í…ŒìŠ¤íŠ¸ (Phaseë³„)
â”‚       â”œâ”€â”€ phase1/               # ì „ì²˜ë¦¬, ì €ì¥, ë™ê¸°í™”
â”‚       â”œâ”€â”€ phase2/               # API, RAG, LLM
â”‚       â”œâ”€â”€ phase2_5/             # ì„¸ì…˜/í† í”½ CRUD
â”‚       â””â”€â”€ phase3/               # í”„ë¡œì íŠ¸ ê´€ë¦¬
â”‚
â”œâ”€â”€ front/                        # Frontend (Next.js)
â”‚   â”œâ”€â”€ app/                      # App Router í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ chat/page.tsx         # RAG ì±„íŒ… í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ para/page.tsx         # PARA ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ embedding/page.tsx    # ì„ë² ë”© ì‹œê°í™”
â”‚   â”‚   â””â”€â”€ settings/page.tsx     # ì„¤ì • í˜ì´ì§€
â”‚   â”œâ”€â”€ components/               # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ chat/                 # ì±„íŒ… UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ para/                 # í”„ë¡œì íŠ¸ ì¹´ë“œ, ì°¨íŠ¸
â”‚   â”‚   â”œâ”€â”€ layout/               # AppShell, ì‚¬ì´ë“œë°”
â”‚   â”‚   â”œâ”€â”€ embedding/            # ì„ë² ë”© ì‹œê°í™”
â”‚   â”‚   â””â”€â”€ ui/                   # shadcn/ui ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ lib/                      # ìœ í‹¸ë¦¬í‹°
â”‚       â”œâ”€â”€ api/                  # API í´ë¼ì´ì–¸íŠ¸
â”‚       â”œâ”€â”€ types/                # TypeScript íƒ€ì…
â”‚       â””â”€â”€ hooks/                # ì»¤ìŠ¤í…€ í›… (useChat, useSSE)
â”‚
â””â”€â”€ docs/                         # ë¬¸ì„œ
    â”œâ”€â”€ features/                 # ê¸°ëŠ¥ë³„ ìƒì„¸ ë¬¸ì„œ
    â”œâ”€â”€ images/                   # ë‹¤ì´ì–´ê·¸ë¨, ìŠ¤í¬ë¦°ìƒ·
    â”œâ”€â”€ spec/                     # ê¸°ìˆ  ìŠ¤í™, ë¡œë“œë§µ
    â””â”€â”€ design/                   # í”„ë¡ íŠ¸ì—”ë“œ ë””ìì¸ í”Œëœ
```

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Python 3.12+
- Node.js 18+
- [uv](https://github.com/astral-sh/uv) (Python íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €, ê¶Œì¥)

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/your-username/obrag.git
cd obrag
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
cp src/.env.example src/.env
```

```env
# LLM Provider (í•˜ë‚˜ ì´ìƒ ì„¤ì •)
OPENAI_API_KEY=sk-...
GOOGLE_API_KEY=AI...

# Optional
EMBEDDING_API_KEY=        # ë¯¸ì„¤ì • ì‹œ LLM í‚¤ ì‚¬ìš©
```

### 3. ë°±ì—”ë“œ ì‹¤í–‰

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
uv sync

# ê°œë°œ ì„œë²„ ì‹¤í–‰
PYTHONPATH=src uv run uvicorn api.main:app --reload
```

API ë¬¸ì„œ í™•ì¸: http://localhost:8000/docs

### 4. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

```bash
cd front
npm install
npm run dev
```

http://localhost:3000 ì—ì„œ í™•ì¸

### 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
pytest src/

# Phaseë³„ í…ŒìŠ¤íŠ¸
pytest src/tasktests/phase1/ -v    # ì „ì²˜ë¦¬, ì €ì¥, ë™ê¸°í™”
pytest src/tasktests/phase2/ -v    # API, RAG, LLM
pytest src/tasktests/phase2_5/ -v  # ì„¸ì…˜/í† í”½ CRUD
pytest src/tasktests/phase3/ -v    # í”„ë¡œì íŠ¸ ê´€ë¦¬
```

---

## ğŸ—ºï¸ ë¡œë“œë§µ

| Phase | ìƒíƒœ | ë‚´ìš© |
|-------|------|------|
| **Phase 1** | âœ… ì™„ë£Œ | ETL íŒŒì´í”„ë¼ì¸ (Markdown ì „ì²˜ë¦¬, í´ë” ìŠ¤ìº”, ChromaDB ì—°ë™, ì¦ë¶„ ë™ê¸°í™”) |
| **Phase 2** | âœ… ì™„ë£Œ | RAG ì±„íŒ… (ë©€í‹° LLM, ì„ë² ë”©, RAGChain, FastAPI ì—”ë“œí¬ì¸íŠ¸) |
| **Phase 2.5** | âœ… ì™„ë£Œ | ëŒ€í™” ì €ì¥ì†Œ (Topic/Session/Message CRUD, SQLite ì—°ë™) |
| **Phase 3** | ğŸ”§ ì§„í–‰ ì¤‘ | PARA ëŒ€ì‹œë³´ë“œ (í”„ë¡œì íŠ¸ ìŠ¤ìº”, Stale íƒì§€, Frontend UI) |
| **Phase 4** | ğŸ“‹ ì˜ˆì • | ì—ë¹™í•˜ìš°ìŠ¤ ë³µìŠµ ì—”ì§„ (íƒœê·¸ ê¸°ë°˜ ì¶”ì , ë³µìŠµ ì£¼ê¸° ì•Œë¦¼) |
| **Phase 5** | ğŸ“‹ ì˜ˆì • | í†µí•© ë° ì™„ì„± (Docker, E2E ê²€ì¦, Tauri ë°ìŠ¤í¬í†± ì•±) |

---

## ğŸ§© ì„¤ê³„ ì›ì¹™

- **Strategy Pattern**: LLMê³¼ Embedding ëª¨ë‘ Protocol ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„ì²´ êµì²´ ììœ 
- **Dependency Injection**: `AppState`ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ì£¼ì…, í…ŒìŠ¤íŠ¸ ì‹œ Mock ìš©ì´
- **Incremental Sync**: ì „ì²´ ì¬ì²˜ë¦¬ ëŒ€ì‹  ë³€ê²½ë¶„ë§Œ ì²˜ë¦¬í•˜ì—¬ íš¨ìœ¨ì„± í™•ë³´
- **Phase-based Testing**: ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ë¶„ë¦¬ëœ í…ŒìŠ¤íŠ¸ êµ¬ì¡° (phase1 ~ phase3)
- **Granular Modules**: ë¸”ë¡/í•¨ìˆ˜ ë‹¨ìœ„ì˜ ì‘ì€ êµ¬í˜„, ê° ëª¨ë“ˆ ë…ë¦½ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ê°œì¸ í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

